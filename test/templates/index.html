<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Just Type(IP)</title>
    <meta
      name="description"
      content="Look up an IP address (or your own). See type, city, region, country, ISP and map."
    />
    <link rel="icon" href="data:," />

    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='proj6.css') }}"
    />

    <!-- Leaflet -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    />
    <script
      defer
      src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    ></script>
  </head>
  <body>
    <header>
      <h1>Just Type (IP)</h1>
      <div class="sub">
        Enter any IP (leave blank to use your own). We’ll show its type and
        where it likely geolocates.
      </div>
    </header>

    <!-- Tiny settings: place to put your Map Tiles API key -->
    <div class="settings">
      <button class="btn btn-wire" id="openSettings" title="Map settings">
        Map Settings
      </button>
    </div>
    <div class="drawer" id="drawer">
      <div
        style="
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 6px;
        "
      >
        <strong style="font-size: 0.95rem">Map Provider</strong>
        <button class="btn btn-ghost" id="closeSettings">Close</button>
      </div>
      <p class="hint" style="margin: 4px 0 10px">
        Optional: Paste a Map Tiles API key (e.g., <em>MapTiler</em>). If empty,
        we’ll use OpenStreetMap.
      </p>
      <div class="field">
        <label for="provider">Tiles Provider</label>
        <select id="provider">
          <option value="osm">OpenStreetMap (default)</option>
          <option value="maptiler">MapTiler (needs API key)</option>
        </select>
      </div>
      <div class="field">
        <label for="apiKey">API Key (kept in your browser only)</label>
        <input id="apiKey" placeholder="e.g. MT_your_maptiler_key_here" />
      </div>
      <div style="display: flex; gap: 8px; justify-content: flex-end">
        <button class="btn btn-ghost" id="resetKey">Reset</button>
        <button class="btn" id="saveKey">Save</button>
      </div>
    </div>

    <main class="wrap grid" aria-live="polite">
      <!-- Left card: details -->
      <section class="card">
        <div class="pad">
          <div class="title">
            <div>
              <div class="badge">Instant lookup</div>
              <h2 style="margin: 0.4rem 0 0; font-size: 1.05rem">
                Enter IP Address
              </h2>
              <div class="hint">Supports IPv4 &amp; IPv6</div>

              <div class="row">
                <input
                  id="ip"
                  class="ip-input"
                  placeholder="e.g. 8.8.8.8 or 2001:4860:4860::8888"
                />
                <button class="btn" id="lookup">Lookup</button>
                <button class="btn btn-ghost" id="mine" title="Use my IP">
                  My IP
                </button>
              </div>

              <div class="kvs">
                  <div class="kv">
                    <label>IPv4 Address</label>
                    <div id="ipOut">{{ ipv4 if ipv4 else "—" }}</div>
                  </div>

                  <div class="kv">
                    <label>IPv6 Address</label>
                    <div id="typeOut">{{ ipv6 if ipv6 else "—" }}</div>
                  </div>

                  <div class="kv">
                    <label>City</label>
                    <div id="cityOut">{{ city if city else "—" }}</div>
                  </div>

                  <div class="kv">
                    <label>Region</label>
                    <div id="regionOut">{{ region if region else "—" }}</div>
                  </div>

                  <div class="kv">
                    <label>Country</label>
                    <div id="countryOut">{{ country if country else "—" }}</div>
                  </div>

                  <div class="kv">
                    <label>ISP</label>
                    <div id="ispOut">{{ isp if isp else "—" }}</div>
                  </div>

                  <div class="kv">
                    <label>Country Code</label>
                    <div id="ccodeOut">{{ ccode if ccode else "—" }}</div>
                  </div>

                  <div class="kv">
                    <label>ASN</label>
                    <div id="asnOut">{{ asn if asn else "—" }}</div>
                  </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Right card: mini explainer -->
      <aside class="card pad">
        <h3 style="margin: 0.2rem 0 8px">What’s an IP “type”?</h3>
        <p class="hint" style="line-height: 1.6">
          We classify by format &amp; routability (IPv4 vs IPv6; public vs
          private/reserved). Geolocation is approximate — usually the ISP
          gateway city, not your street.
        </p>
        <hr
          style="border: none; border-top: 1px solid #eadfce; margin: 16px 0"
        />
        <ul class="hint" style="padding-left: 18px; line-height: 1.8">
                 <h4 class="hint" style="margin:14px 0 6px">Map (approximate)</h4>

          <li>
            Leave the box empty and press <em>My IP</em> to detect your address.
          </li>
          <li>Click <em>Copy results</em> to share a snapshot.</li>
          <li>No cookies, no tracking pixels.</li>
        </ul>
          <div id="miniMap" class="map-embed" aria-label="Approximate IP geolocation map"></div>  <!-- dito yung map -->
         
          
      </aside>
    </main>

    <div class="toast" id="toast">Copied!</div>
    <footer>© <span id="yr"></span> Just Type (IP)</footer>
  </body>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="{{ url_for('static', filename='proj6.js') }}"></script>
</html>