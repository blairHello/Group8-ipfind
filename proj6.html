<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Just My Type (IP)</title>
<meta name="description" content="Look up an IP address (or your own). See type, city, region, country, ISP and map." />
<link rel="icon" href="data:,">

<!-- Leaflet for the tiny map -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" crossorigin />
<script defer src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" crossorigin></script>

<style>
  :root{
    --bg:#f5f7fb;
    --ink:#0f1a2a;
    --muted:#61708a;
    --brand:#4d7cff;
    --ok:#36cf82;
    --card:#ffffff;
    --ring: 0 1px 0 rgba(16,24,40,.04), 0 10px 30px rgba(2,6,23,.08);
    --radius:16px;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; background:
     radial-gradient(800px 500px at 10% -10%, #e9f0ff 0%, transparent 60%),
     radial-gradient(800px 500px at 110% 10%, #eafaf2 0%, transparent 60%),
     var(--bg);
    color:var(--ink);
    font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Inter, "Helvetica Neue", Arial;
  }
  header{
    max-width:920px; margin:42px auto 18px; padding:0 20px; text-align:center;
  }
  h1{
    font-size:clamp(1.5rem, 2.2vw + 1rem, 2rem);
    margin:0 0 4px; letter-spacing:.3px;
  }
  .sub{color:var(--muted); font-size:.95rem}
  .wrap{max-width:920px; margin:0 auto 60px; padding:0 20px;}
  .grid{display:grid; grid-template-columns: 1.1fr .9fr; gap:22px}
  @media (max-width: 900px){ .grid{grid-template-columns:1fr}}
  .card{
    background:var(--card); border-radius:var(--radius);
    box-shadow:var(--ring); border:1px solid #eef1f6;
  }
  .pad{padding:20px}
  .row{display:flex; gap:12px; align-items:center; margin:14px 0 18px}
  .ip-input{
    flex:1; padding:14px 14px; border-radius:12px; border:1px solid #e3e8f2; outline:none;
    background:#fbfcff; color:var(--ink); font-size:1rem;
  }
  .ip-input:focus{border-color:#cfd9ff; box-shadow:0 0 0 4px rgba(77,124,255,.12)}
  .btn{
    border:none; padding:13px 16px; border-radius:12px; cursor:pointer;
    font-weight:700; background:linear-gradient(160deg, var(--brand), #6aa1ff); color:white;
  }
  .btn-ghost{
    background:#f0f4ff; color:#2f4bb4; border:1px solid #dae4ff;
  }
  .kvs{display:grid; grid-template-columns:1fr 1fr; gap:12px}
  @media (max-width:560px){ .kvs{grid-template-columns:1fr} }
  .kv{
    background:#f9fbff; border:1px solid #eef2fa; border-radius:12px; padding:12px 14px;
  }
  .kv label{display:block; font-size:.8rem; color:var(--muted)}
  .kv div{font-weight:800; margin-top:4px; word-break:break-all}
  .copy{
    padding:8px 12px; border-radius:10px; border:1px dashed #c9d6ff; background:#f4f7ff;
    font-size:.9rem; cursor:pointer; margin-left:auto;
  }
  .hint{font-size:.9rem; color:var(--muted)}
  #map{height:340px; border-radius:0 0 var(--radius) var(--radius); border-top:1px solid #eef1f6}
  .title{
    display:flex; align-items:center; justify-content:space-between; gap:10px; margin-bottom:8px
  }
  .badge{
    background:#ebfff5; color:#067a46; border:1px solid #bbf7d0; font-size:.75rem;
    padding:6px 10px; border-radius:999px; font-weight:700; letter-spacing:.2px;
  }
  .toast{
    position:fixed; inset:auto 20px 20px auto; background:#0f1a2a; color:#fff; padding:12px 14px;
    border-radius:12px; box-shadow:var(--ring); opacity:0; transform:translateY(6px);
    transition:all .22s ease; pointer-events:none;
  }
  .toast.show{opacity:1; transform:translateY(0)}
  footer{max-width:920px; margin:26px auto 40px; padding:0 20px; color:var(--muted); text-align:center}
</style>
</head>
<body>
  <header>
    <h1>Just My Type (IP)</h1>
    <div class="sub">Enter any IP (leave blank to use your own). We’ll show its “type” and where it likely geolocates.</div>
  </header>

  <main class="wrap grid" aria-live="polite">
    <!-- Left card: details -->
    <section class="card">
      <div class="pad">
        <div class="title">
          <div>
            <div class="badge">Instant lookup</div>
            <h2 style="margin:.4rem 0 0;font-size:1.05rem">Enter IP Address</h2>
            <div class="hint">Supports IPv4 &amp; IPv6</div>
          </div>
          <button class="copy" id="copyAll" title="Copy all results">Copy results</button>
        </div>

        <div class="row">
          <input id="ip" class="ip-input" placeholder="e.g. 8.8.8.8 or 2001:4860:4860::8888" />
          <button class="btn" id="lookup">Lookup</button>
          <button class="btn btn-ghost" id="mine" title="Use my IP">My IP</button>
        </div>

        <div class="kvs">
          <div class="kv"><label>IP Address</label><div id="ipOut">—</div></div>
          <div class="kv"><label>Type of Address</label><div id="typeOut">—</div></div>
          <div class="kv"><label>City</label><div id="cityOut">—</div></div>
          <div class="kv"><label>Region</label><div id="regionOut">—</div></div>
          <div class="kv"><label>Country</label><div id="countryOut">—</div></div>
          <div class="kv"><label>ISP</label><div id="ispOut">—</div></div>
        </div>
      </div>
      <div id="map"></div>
    </section>

    <!-- Right card: mini explainer -->
    <aside class="card pad">
      <h3 style="margin:.2rem 0 8px">What’s an IP “type”?</h3>
      <p class="hint" style="line-height:1.6">
        We classify by format &amp; routability (IPv4 vs IPv6; public vs private/reserved).
        Geolocation is approximate &mdash; it’s usually the ISP’s gateway city, not your street.
      </p>
      <hr style="border:none;border-top:1px solid #eef1f6;margin:16px 0">
      <ul class="hint" style="padding-left:18px; line-height:1.8">
        <li>Leave the box empty and press <em>My IP</em> to detect your address.</li>
        <li>Click <em>Copy results</em> to share a snapshot.</li>
        <li>No cookies, no tracking pixels.</li>
      </ul>
    </aside>
  </main>

  <div class="toast" id="toast">Copied!</div>

  <footer>© <span id="yr"></span> Just My Type (IP)</footer>

<script>
  const $ = s => document.querySelector(s);
  const ipIn = $("#ip");
  const fields = {
    ip: $("#ipOut"), type: $("#typeOut"), city: $("#cityOut"),
    region: $("#regionOut"), country: $("#countryOut"), isp: $("#ispOut")
  };
  $("#yr").textContent = new Date().getFullYear();

  // Map
  let map, marker;
  function initMap(){
    map = L.map('map', { zoomControl:true, attributionControl:false }).setView([20,0], 2);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {maxZoom:19}).addTo(map);
  }
  initMap();

  // Validators
  const reV4 = /^(25[0-5]|2[0-4]\d|[01]?\d\d?)(\.(25[0-5]|2[0-4]\d|[01]?\d\d?)){3}$/;
  const reV6 = /^(([0-9a-f]{1,4}:){7}[0-9a-f]{1,4}|([0-9a-f]{1,4}:){1,7}:|([0-9a-f]{1,4}:){1,6}:[0-9a-f]{1,4}|([0-9a-f]{1,4}:){1,5}(:[0-9a-f]{1,4}){1,2}|([0-9a-f]{1,4}:){1,4}(:[0-9a-f]{1,4}){1,3}|([0-9a-f]{1,4}:){1,3}(:[0-9a-f]{1,4}){1,4}|([0-9a-f]{1,4}:){1,2}(:[0-9a-f]{1,4}){1,5}|[0-9a-f]{1,4}:((:[0-9a-f]{1,4}){1,6})|:((:[0-9a-f]{1,4}){1,7})|fe80:(:[0-9a-f]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3,3}(25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|([0-9a-f]{1,4}:){1,4}:((25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3,3}(25[0-5]|2[0-4]\\d|[01]?\\d\\d?))$/i;

  function kind(ip){
    if(!ip) return "Unknown";
    if(reV4.test(ip)){
      // RFC1918/private ranges
      const oct = ip.split('.').map(n=>+n);
      const priv = (oct[0]===10) || (oct[0]===172 && oct[1]>=16 && oct[1]<=31) || (oct[0]===192 && oct[1]===168);
      const loop = (oct[0]===127);
      const link = (oct[0]===169 && oct[1]===254);
      if(loop) return "IPv4 • loopback";
      if(priv) return "IPv4 • private";
      if(link) return "IPv4 • link-local";
      return "IPv4 • public";
    }
    if(reV6.test(ip)){
      const lc = ip.toLowerCase();
      if(lc.startsWith("fe80")) return "IPv6 • link-local";
      if(lc.startsWith("fc") || lc.startsWith("fd")) return "IPv6 • unique local (ULA)";
      if(lc==="::1") return "IPv6 • loopback";
      return "IPv6 • global (public)";
    }
    return "Unrecognized";
  }

  async function detectMyIP(){
    // best-effort: fetch v4 and v6
    const [v4,v6] = await Promise.allSettled([
      fetch('https://api.ipify.org?format=json').then(r=>r.json()),
      fetch('https://api64.ipify.org?format=json').then(r=>r.json())
    ]);
    const ip = (v6.status==="fulfilled" && v6.value.ip) || (v4.status==="fulfilled" && v4.value.ip) || "";
    return ip;
  }

  async function lookup(ip){
    // if no ip, detect user's
    const targetIP = ip?.trim() || await detectMyIP();
    if(!targetIP){ paint({ip:"Unavailable", type:"—"}); return; }

    paint({ ip:"Loading…", type:"…" });

    try{
      const geo = await fetch(https://ipapi.co/${encodeURIComponent(targetIP)}/json/).then(r=>r.json());
      const out = {
        ip: geo.ip || targetIP,
        type: kind(targetIP),
        city: geo.city || "—",
        region: geo.region || "—",
        country: geo.country_name || geo.country || "—",
        isp: geo.org || geo.asn || "—",
        lat: parseFloat(geo.latitude), lon: parseFloat(geo.longitude)
      };
      paint(out);
      // map
      if(!isNaN(out.lat) && !isNaN(out.lon)){
        map.setView([out.lat,out.lon], 9);
        if(marker) marker.remove();
        marker = L.marker([out.lat,out.lon]).addTo(map).bindPopup(${out.city?out.city+', ':''}${out.country}).openPopup();
      }else{
        map.setView([20,0], 2);
        if(marker) marker.remove();
      }
    }catch(e){
      console.error(e);
      paint({ip:targetIP, type:kind(targetIP), city:"—", region:"—", country:"—", isp:"—"});
    }
  }

  function paint(d){
    fields.ip.textContent = d.ip ?? "—";
    fields.type.textContent = d.type ?? "—";
    fields.city.textContent = d.city ?? "—";
    fields.region.textContent = d.region ?? "—";
    fields.country.textContent = d.country ?? "—";
    fields.isp.textContent = d.isp ?? "—";
  }

  // UI events
  $("#lookup").addEventListener("click", ()=> lookup(ipIn.value));
  $("#mine").addEventListener("click", async ()=>{
    ipIn.value = "";
    await lookup("");
  });
  ipIn.addEventListener("keydown", e=>{ if(e.key==="Enter") $("#lookup").click(); });

  // Copy all
  $("#copyAll").addEventListener("click", ()=>{
    const text =
`IP: ${fields.ip.textContent}
Type: ${fields.type.textContent}
City: ${fields.city.textContent}
Region: ${fields.region.textContent}
Country: ${fields.country.textContent}
ISP: ${fields.isp.textContent}`;
    navigator.clipboard.writeText(text).then(()=>{
      const t=$("#toast"); t.classList.add("show");
      setTimeout(()=>t.classList.remove("show"), 1200);
    });
  });

  // initial load: user IP
  lookup("");
</script>
</body>
</html>